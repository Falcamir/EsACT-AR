<!DOCTYPE html>
<html>
    <head>
        
        <title> EsACT - AR </title>
        <meta name="viewport" content="width=device-width,height=device-height">
	    <meta name="apple-mobile-web-app-capable" content="yes">
        
        <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
        <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar-nft.js"></script>


        <script>
                       
	    // multimedia component
		
	    AFRAME.registerComponent('mappoint-handler', {
            
		init: function() {
		    //console.log("I was triggered");
		    const marker3 = document.querySelector("#marker3");
		    const imgMap = document.querySelector("#img-multimedia");
			
		    marker3.addEventListener('click', function(ev, target) {
		        const intersectedElement = ev && ev.detail && ev.detail.intersectedEl;
			if (imgMap && intersectedElement === imgMap) {
			    console.log("Clicked");
			    document.location.href = "https://goo.gl/maps/gRsth6SHo5AgwMbT7";
			}
		    });
		}
	    });
			
            
        </script>
    </head>
    <body>

        <a-scene id="scene" arjs='trackingMethod: best; debugUIEnabled: false;' vr-mode-ui="enabled: false" ar-template >
            
            <a-assets>

                <!-- Multimedia -->

                <img id="multimedia" src="images/texture.jpg">

            </a-assets>
            

            <!-- Map Location Marker -->

            <a-marker id="marker3" type='pattern' url='markers/multimedia.patt' emitevents="true" cursor="rayOrigin: mouse" mappoint-handler>
                <!--<a-box position='0 0 0' material='color: red;'></a-box>-->
                <a-plane id="img-multimedia" scale = "2 2" position='0 0.1 0' rotation="-90 0 0" material='src:#multimedia'></a-plane>
                <!--<a-entity text="font: https://cdn.aframe.io/fonts/mozillavr.fnt; value: Fun Moments"></a-entity>-->
            </a-marker>     
            
            <!-- Camera -->

            <a-entity camera></a-entity>

        </a-scene>


    </body>
</html>
